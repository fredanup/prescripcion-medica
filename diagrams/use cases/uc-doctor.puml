@startuml UC-Medico
title Casos de Uso – Médico

left to right direction
skinparam actorStyle awesome

actor "Médico" as Med

rectangle "Backend (tRPC / Node)" as System {
  (Validar sesión/rol) as UC_Auth <<Auth Bridge (NextAuth)>>

  (Gestionar Citas\n- Crear\n- Listar\n- Marcar pago) as UC_Appt <<appointmentRouter>>
  (Atender Consulta\n- Abrir/crear\n- Diagnóstico\n- Órdenes\n- Cerrar\n- Resumen) as UC_Consult <<consultationRouter>>
  (Gestionar Receta\n- Generar bundle token\n- PDF\n- Enviar email) as UC_Pres <<prescriptionRouter>>
  (Gestionar Pacientes del Médico / Perfil) as UC_User <<userRouter>>
  (Ver Historia Clínica\n- Línea de tiempo) as UC_Hist <<clinicalHistoryRouter>>
  
  (Ver Médicos por Especialidad) as UC_Doctor <<doctorRouter>>

  UC_Appt ..> UC_Auth : <<include>>
  UC_Consult ..> UC_Auth : <<include>>
  UC_Pres ..> UC_Auth : <<include>>
  UC_User ..> UC_Auth : <<include>>
  UC_Hist ..> UC_Auth : <<include>>  
  UC_Doctor ..> UC_Auth : <<include>>
}

Med --> UC_Appt
Med --> UC_Consult
Med --> UC_Pres
Med --> UC_User
Med --> UC_Hist
Med --> UC_Doctor 


@enduml
